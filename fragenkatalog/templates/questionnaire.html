{% extends "base.html" %}

{% load staticfiles %}

{% block body %}

<div class="container" style="padding-top: 20px; padding-bottom: 100px;">

    <div id="carousel" class="carousel slide"
         style="margin-bottom: 20px;"
         data-ride="carousel" data-interval="false">
      <div class="carousel-inner">
      {% for question in questions %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
            <div class="card border-dark">
                {% if question.image %}
                <img class="card-img-top card-header" src="{{ question.image.url }}"
                     style="max-height: 30rem; object-fit: contain;">
                {% endif %}
                <h5 class="card-header" style="padding: 1rem;">
                    {{ question.description }}
                <a class="btn btn-outline-primary float-right" data-toggle="collapse" href="#collapse-{{ forloop.counter }}"
                   role="button" aria-expanded="false" aria-controls="collapse-{{ forloop.counter }}">
                    <span class="fas fa-chevron-down"></span>
                </a>
                </h5>
                <div class="bg-primary text-light">
                  <div class="collapse" id="collapse-{{ forloop.counter }}">
                    <p style="padding: 1rem;" class="card-text">{{ question.solution }}</p>
                  </div>
                </div>
            </div>
        </div>
      {% endfor %}
      </div>
    </div>

    <!--
    {% if user.is_authenticated and user.is_superuser %}
    <form action="{% url 'new_question' quiz.id %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="card border-dark shadow-lg" style="margin-top: 20px;">
        <input type="text" name="description" class="form-control border-radius-0 card-header"
           placeholder="Description" aria-label="Description">
        <input type="text" name="solution" class="form-control border-radius-0 card-body"
                        placeholder="Solution" aria-label="Solution">
        <div class="custom-file">
          <input type="file" accept="image/*" class="custom-file-input" id="image">
          <label class="custom-file-label" for="image">Choose a descriptive Image...</label>
        </div>
        <button type="submit" class="card-footer"><span class="fas fa-plus"></span> Create new question</button>
    </div>
    </form>
    {% endif %}
    -->

    {% if questions.paginator %}
    <nav aria-label="Question pagination" style="padding-bottom: 5px;">
        <ul class="pagination">
            {% if questions.has_previous %}
                <li class="page-item"><a class="page-link" href="?question={{ questions.previous_page_number }}">Previous</a></li>
            {% else %}
                <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
            {% endif %}

            <li class="page-item active"><span class="page-link" href="#">Question {{ questions.number }} of {{ questions.paginator.num_pages }}</span></li>

            {% if questions.has_next %}
                <li class="page-item text-dark"><a class="page-link" href="?question={{ questions.next_page_number }}">Next</a></li>
            {% else %}
                <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
            {% endif %}
        </ul>
    </nav>
    {% endif %}

</div>


{% endblock %}